import {ArgsTable, Meta, Canvas, Story} from "@storybook/addon-docs";
import {DataTable} from '../DataTable';

<Meta 
  title="Controls/DataTable" 
  component={DataTable}
  subcomponents={{'DataTable.Column': DataTable.Column}}
  argTypes={{
    className: { table: { disable: true } }
  }}
/>

export const data = [
  { name: "John",   age: 24, sport: "Soccer"},
  { name: "Mary",   age: 18, sport: "Polo"},
  { name: "Bert",   age: 21, sport: "Basketball"},
  { name: "Joseph", age: 24, sport: "Kendo"},
  { name: "Rose",   age: 17, sport: "Soccer"},
  { name: "Alexander",  age: 15, sport: "Athletics"},
  { name: "Rudolph", age: 29, sport: "Krav maga"},
  { name: "Jessica", age: 19, sport: "None"},
  { name: "Ellen", age: 16, sport: "Athletics"},
  { name: "Ralph", age: 22, sport: "Volleyball"}
];

export const Template = (args) =>   
<div style={{display: 'flex', position: 'relative', height: '400px'}}>
  <DataTable 
    data={data} {...args}>
    <DataTable.Column weight={2} label="Name" order="name" dir="asc">{(item) => item.name}</DataTable.Column>
    <DataTable.Column weight={1} label="Age" order="age" dir="asc">{(item) => item.age}</DataTable.Column>
    <DataTable.Column weight={1} label="Sport" order="sport" dir="asc">{(item) => item.sport}</DataTable.Column>
  </DataTable>
</div>

# DataTable

<ArgsTable of={DataTable}/>

## Default DataTable

A standard `DataTable` must have a `data` property that contains a list 
of items to show.  
  
*Dynamic tables*
  
While a static table contains all of its data in the `data` property, 
a dynamic table (which is why `DataTable` exists) should provide an array containing 
empty spots for data that is yet to be loaded. The `onFetch` property should be provided 
to fetch segments of data and place them in the array.  
  
*Positioning*
  
A `DataTable` stretches to fill all vertical space available to it. It expects 
to be placed in a container with `display: flex`.     

<Canvas>
  <Story
    name="Properties"
    args={{}}>
    {Template.bind({})}
  </Story>
</Canvas>
